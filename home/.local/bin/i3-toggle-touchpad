#!/bin/bash
# ~/.local/bin/i3-touchpad-toggle

#arckalp [~]$ xinput --enable $(xinput --list | sed 's/id=\(.*\)/\1/' | awk '/[Tt]ouch[Pp]ad.*slave/ {print $6}')
#arckalp [~]$ xinput --disable $(xinput --list | sed 's/id=\(.*\)/\1/' | awk '/[Tt]ouch[Pp]ad.*slave/ {print $6}')
# xinput list-props 12 | grep "Device Enabled" | awk '/Enabled.*/ {print $4}'

touchpadId=$(xinput --list | sed 's/id=\(.*\)/\1/' | awk '/[Tt]ouch[Pp]ad.*slave/ {print $6}')
isEnabled=$(xinput list-props "$touchpadId" | grep "Device Enabled" | awk '/Enabled.*/ {print $4}')

#echo $touchpadId
#echo $isEnabled

[[ $isEnabled = 1 ]] && xinput --disable $touchpadId || xinput --enable $touchpadId
